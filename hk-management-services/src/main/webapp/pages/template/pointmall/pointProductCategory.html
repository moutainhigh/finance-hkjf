<!-- Nested node template -->
<link rel="stylesheet" href="jslib/ui-tree/angular-ui-tree.css">
<div class="row">
    <div class="col-lg-12">
        <div class="panel panel-default">

            <div class="panel-heading clearfix" style="line-height: 34px;">
                <h3 ><span style="float:left;">商品分类管理 </span></h3>

                <div>
                        <code><br>注意：</code>  <br>1.符号：“ + ” 代表在当前菜单下添加子菜单<br>
                        2.符号：“ X ” 代表删除当前菜单以及其下面的子菜单<br>
                        3.修改菜单名称直接在输入框中修改
                </div>
            </div>

            <div class="span12" id="div-table-container"></div>
            <!-- /.panel-heading -->
            <div class="panel-body" >
                <div class="row">
                    <div class="col-sm-6">
                        <h3>商品分类 <a href="javascript:void(0)" class="btn btn-success"  ng-click="newSubItem()" style="display:inline-block;float:right;">添加一级菜单
                        </a>&nbsp;&nbsp;<a href="javascript:void(0)" class="btn btn-success"  ng-click="refreshCategories()" style="display:inline-block;float:right;">刷新菜单缓存</a></h3>
                        <div ui-tree id="tree2-root" data-clone-enabled="true">
                            <ol ui-tree-nodes="" ng-model="tree2">
                                <li ng-repeat="node in tree2" ui-tree-node ng-include="'nodes_renderer2.html'" style="margin-bottom:10px;"></li>
                            </ol>
                        </div>
                    </div>
                </div>
            </div>
            <!-- /.panel-body -->
        </div>
        <!-- /.panel -->
    </div>
    <!-- /.col-lg-12 -->
</div>
<!--<h3>Data binding</h3>-->
<!--<div class="row">-->
    <!--<div class="col-sm-6">-->
        <!--<pre class="code">{{ tree2 | json }}</pre>-->
    <!--</div>-->
<!--</div>-->
<script type="text/ng-template" id="nodes_renderer2.html">
    <div class="tree-node" style="margin-top:5px;">
        <div class="pull-left tree-handle" ui-tree-handle>
            <span class="glyphicon"></span>
        </div>
        <div class="tree-node-content">
            <a class="btn btn-default btn-xs" data-nodrag ng-click="toggle(this)">
        <span class="glyphicon" ng-class="{
          'glyphicon-chevron-right': collapsed,
          'glyphicon-chevron-down': !collapsed
          }">
        </span>
            </a>
            <input type="text" ng-model="node.title" ng-blur="changCateName(this)">
            <a class="btn btn-danger btn-xs" data-nodrag ng-click="removeCate(this)"><span class="glyphicon glyphicon-remove"></span></a>
            <a class=" btn btn-success btn-xs" data-nodrag ng-click="newSubItem(this)" style="margin-right: 8px;"><span class="glyphicon glyphicon-plus"></span></a>
            排序号<input type="text" style="width: 35px;" ng-model="node.sort" ng-blur="changeSort(this)"/>
 </div>
    </div>
    <ol ui-tree-nodes="" ng-model="node.nodes" ng-class="{hidden: collapsed}">
        <li ng-repeat="node in node.nodes" ui-tree-node ng-include="'nodes_renderer2.html'">
        </li>
    </ol>

</script>


<!-- 引入确认对话框  -->
<div ng-include="'pages/template/confirm.html'"></div>



